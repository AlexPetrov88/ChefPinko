{"ast":null,"code":"var _jsxFileName = \"/Users/alexpetrov/JavaScript/ReactApps/workshopRouter/client/src/components/Details/Details.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\nimport { getById } from \"../../services/gameService\";\nimport { postCreate, getCommentsById } from '../../services/commentService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Details = _ref => {\n  _s();\n  let {\n    games,\n    onDeleteGame,\n    onEditHandler\n  } = _ref;\n  const [username, setUsername] = useState('');\n  const [comment, setComment] = useState('');\n  const [comments, setComments] = useState([]);\n  const {\n    detailsId\n  } = useParams();\n  const [game, setGame] = useState({});\n  useEffect(() => {\n    getById(detailsId).then(res => {\n      setGame(res);\n      return getCommentsById(detailsId);\n    }).then(result => {\n      setComments(result);\n    });\n  }, [detailsId]);\n  const onCommentSubmit = async e => {\n    e.preventDefault();\n    await postCreate({\n      detailsId,\n      username,\n      comment\n    });\n    setUsername('');\n    setComment('');\n  };\n  const onUsernameChange = e => {\n    setUsername(e.target.value);\n  };\n  const onCommentChange = e => {\n    setComment(e.target.value);\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    id: \"game-details\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Game Details\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"info-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"game-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"game-img\",\n          src: game.imageUrl\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: game.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"levels\",\n          children: [\"MaxLevel: \", game.maxLevel]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"type\",\n          children: game.category\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text\",\n        children: game.summary\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"details-comments\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Comments:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: comments.map(x => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"comment\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [x.username, \": \", x.comment]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 29\n            }, this)\n          }, x._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), comments.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"no-comment\",\n          children: \"No comments.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 26\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"buttons\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/editPage\",\n          className: \"button\",\n          onClick: () => onEditHandler(detailsId),\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/catalog\",\n          className: \"button\",\n          onClick: () => onDeleteGame(detailsId),\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"article\", {\n      className: \"create-comment\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Add new comment:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"form\",\n        onSubmit: onCommentSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"username\",\n          placeholder: \"Pesho\",\n          value: username,\n          onChange: onUsernameChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"comment\",\n          placeholder: \"Comment......\",\n          value: comment,\n          onChange: onCommentChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"btn submit\",\n          type: \"submit\",\n          value: \"Add Comment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n};\n_s(Details, \"GMfeSRom9yhi2goJvKhybtzrXfs=\", false, function () {\n  return [useParams];\n});\n_c = Details;\nvar _c;\n$RefreshReg$(_c, \"Details\");","map":{"version":3,"names":["useState","useEffect","useParams","Link","getById","postCreate","getCommentsById","jsxDEV","_jsxDEV","Details","_ref","_s","games","onDeleteGame","onEditHandler","username","setUsername","comment","setComment","comments","setComments","detailsId","game","setGame","then","res","result","onCommentSubmit","e","preventDefault","onUsernameChange","target","value","onCommentChange","id","children","fileName","_jsxFileName","lineNumber","columnNumber","className","src","imageUrl","title","maxLevel","category","summary","map","x","_id","length","to","onClick","onSubmit","type","name","placeholder","onChange","_c","$RefreshReg$"],"sources":["/Users/alexpetrov/JavaScript/ReactApps/workshopRouter/client/src/components/Details/Details.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\n\nimport { getById } from \"../../services/gameService\";\nimport { postCreate, getCommentsById } from '../../services/commentService'\n\n\nexport const Details = ({\n    games,\n    onDeleteGame,\n    onEditHandler,\n}) => {\n    const [username, setUsername] =useState('');\n    const [comment, setComment] = useState('');\n    const [comments, setComments] = useState([]);\n    const {detailsId} = useParams();\n    const [game, setGame] = useState({});\n\n    useEffect(() => {\n        getById(detailsId)\n        .then(res => {\n            setGame(res);\n            return getCommentsById(detailsId)\n        })\n        .then(result => {\n            setComments(result)\n        })\n    }, [detailsId]);\n\n  const onCommentSubmit =async (e) => {\n        e.preventDefault();\n\n      await postCreate({\n            detailsId,\n            username,\n            comment,\n        })\n        setUsername('');\n        setComment('');\n    }\n\n  const onUsernameChange = (e) => {\n      setUsername(e.target.value);\n  }\n\n  const onCommentChange = (e) => {\n      setComment(e.target.value)\n  }\n\n    return(\n        <section id=\"game-details\">\n            <h1>Game Details</h1>\n            <div className=\"info-section\">\n\n                <div className=\"game-header\">\n                    <img className=\"game-img\" src={game.imageUrl} />\n                    <h1>{game.title}</h1>\n                    <span className=\"levels\">MaxLevel: {game.maxLevel}</span>\n                    <p className=\"type\">{game.category}</p>\n                </div>\n\n                <p className=\"text\">\n                    {game.summary}\n                </p>\n\n\n\n\n                {/* <!-- Bonus ( for Guests and Users ) --> */}\n                <div className=\"details-comments\">\n                    <h2>Comments:</h2>\n                    <ul>\n                        {/* <!-- list all comments for current game (If any) --> */}\n                        {comments.map(x => (\n                            <li key={x._id} className=\"comment\">\n                            <p>{x.username}: {x.comment}</p>\n                        </li>\n                        ))}\n                    </ul>\n                    \n                    {/* <!-- Display paragraph: If there are no games in the database --> */}\n                    {comments.length === 0 && (\n                         <p className=\"no-comment\">No comments.</p>\n                    )}\n                </div>\n\n\n\n\n                {/* <!-- Edit/Delete buttons ( Only for creator of this game )  --> */}\n                <div className=\"buttons\">\n                    <Link to=\"/editPage\" className=\"button\" onClick={() => onEditHandler(detailsId)}>Edit</Link>\n                    <Link to=\"/catalog\"  className=\"button\" onClick={() => onDeleteGame(detailsId)}>Delete</Link>\n                </div>\n            </div>\n\n            {/* <!-- Bonus --> */}\n            {/* <!-- Add Comment ( Only for logged-in users, which is not creators of the current game ) --> */}\n            <article className=\"create-comment\">\n                <label>Add new comment:</label>\n                <form className=\"form\" onSubmit={onCommentSubmit}>\n                    <input type=\"text\" name=\"username\" placeholder=\"Pesho\" value={username} onChange={onUsernameChange}/>\n                    <textarea name=\"comment\" placeholder=\"Comment......\" value={comment} onChange={onCommentChange}></textarea>\n                    <input className=\"btn submit\" type=\"submit\" value=\"Add Comment\" />\n                </form>\n            </article>\n\n        </section>\n    );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}