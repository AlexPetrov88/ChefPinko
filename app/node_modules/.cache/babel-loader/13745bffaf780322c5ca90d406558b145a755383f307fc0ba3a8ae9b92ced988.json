{"ast":null,"code":"import * as api from './api.js';\nimport { clearUserData, setUserData } from './util.js';\n\n// export const login = api.login;\n// export const register = api.register;\n// export const logout = api.logout;\n\nconst endpoints = {\n  all: '/data/recipes?sortBy=_createdOn%20desc',\n  byId: '/data/recipes/',\n  lastRecipes: '/data/recipes?sortBy=_createdOn%20desc&distinct=category',\n  create: '/data/recipes',\n  edit: '/data/recipes/',\n  delete: '/data/recipes/'\n};\nexport const recipeServiceFactory = token => {\n  const request = api.apiFactory(token);\n  const getAll = async () => {\n    return request.get(endpoints.all);\n  };\n  const getById = async id => {\n    return request.get(endpoints.byId + id);\n  };\n  const getlastRecipes = async () => {\n    return request.get(endpoints.lastRecipes);\n  };\n  const postCreate = async data => {\n    return request.post(endpoints.create, data);\n  };\n  const editItem = async (id, data) => {\n    return request.put(endpoints.edit + id, data);\n  };\n  const deleteItem = async id => {\n    return request.del(endpoints.delete + id);\n  };\n  const login = async (email, password) => {\n    const result = await request.post('/users/login', {\n      email,\n      password\n    });\n    const userData = {\n      email: result.email,\n      id: result._id,\n      token: result.accessToken\n    };\n    setUserData(userData);\n    return userData;\n  };\n  const register = async (email, password) => {\n    const result = await request.post('/users/register', {\n      email,\n      password\n    });\n    const userData = {\n      email: result.email,\n      id: result._id,\n      token: result.accessToken\n    };\n    setUserData(userData);\n    return userData;\n  };\n  const logout = async () => {\n    await request.get('/users/logout');\n    clearUserData();\n  };\n  return {\n    getAll,\n    getById,\n    getlastRecipes,\n    postCreate,\n    editItem,\n    deleteItem,\n    login,\n    register,\n    logout\n  };\n};\n\n// export async function getAll() {\n//     return api.get(endpoints.all);\n// }\n\n// export async function getById(id) {\n//     return api.get(endpoints.byId + id);\n// }\n// export async function getLastGames() {\n//     return api.get(endpoints.lastGames);\n// }\n\n// export async function postCreate(data) {\n//     return api.post(endpoints.create, data)\n// }\n\n// export async function editItem(id, data) {\n//     return api.put(endpoints.edit + id, data)\n// } \n\n// export async function deleteItem(id) {\n//     return api.del(endpoints.delete + id)\n// }\n\n// export async function login(email, password) {\n//     const result = await api.post('/users/login', { email, password });\n//     const userData = {\n//     email: result.email,\n//     id: result._id,\n//     token: result.accessToken\n//     };\n//     setUserData(userData);\n//     return userData;\n//   }\n\n//   export async function register(email, password) {\n//     const result = await api.post('/users/register', {email, password});\n//     const userData = {\n//     email: result.email, \n//     id: result._id, \n//     token: result.accessToken,\n//     };\n//     setUserData(userData);\n//     return userData;\n//   }\n\n//   export async function logout() {\n//     await api.get('/users/logout'); \n//     clearUserData();\n//   }\n\n// import {\n//     get,\n//     post,\n//     put,\n//     del,\n//     login,\n//     register,\n//     logout,\n// } from \"./api\";\n\n// const baseUrl = 'http://localhost:3030/data/games';\n\n// const getAll = async () => {\n//     const result = await get(baseUrl);\n//     const games = Object.values(result);\n\n//     return games;\n// }\n\n// const postCreate = async (gameData) => {\n//     const result = await post(baseUrl, gameData);\n\n//     // console.log(result);\n//     return result;\n// }\n\n// const getById = async (detailsId) => {\n//     const result = await get(`${baseUrl}/${detailsId}`);\n//     // console.log(result);\n//     return result;\n// }\n\n// export {\n//     getAll,\n//     postCreate,\n//     getById,\n// }","map":{"version":3,"names":["api","clearUserData","setUserData","endpoints","all","byId","lastRecipes","create","edit","delete","recipeServiceFactory","token","request","apiFactory","getAll","get","getById","id","getlastRecipes","postCreate","data","post","editItem","put","deleteItem","del","login","email","password","result","userData","_id","accessToken","register","logout"],"sources":["/Users/alexpetrov/JavaScript/ReactApps/projectChefSteps copy/client/src/services/recipesService.js"],"sourcesContent":["import * as api from './api.js';\nimport { clearUserData, setUserData } from './util.js';\n\n// export const login = api.login;\n// export const register = api.register;\n// export const logout = api.logout;\n\nconst endpoints = {\n    all: '/data/recipes?sortBy=_createdOn%20desc',\n    byId: '/data/recipes/',\n    lastRecipes: '/data/recipes?sortBy=_createdOn%20desc&distinct=category',\n    create: '/data/recipes',\n    edit: '/data/recipes/',\n    delete: '/data/recipes/',\n\n}\n\nexport const recipeServiceFactory = (token) => {\n    const request = api.apiFactory(token);\n    \nconst getAll = async () => {\n    return request.get(endpoints.all);\n}\n\nconst getById = async(id) => {\n    return request.get(endpoints.byId + id);\n}\n\nconst getlastRecipes = async() => {\n    return request.get(endpoints.lastRecipes);\n}\n\nconst postCreate = async(data) => {\n    return request.post(endpoints.create, data)\n}\n\nconst editItem = async(id, data) => {\n    return request.put(endpoints.edit + id, data)\n} \n\nconst deleteItem = async(id) => {\n    return request.del(endpoints.delete + id)\n}\n\nconst login = async(email, password) => {\n    const result = await request.post('/users/login', { email, password });\n    const userData = {\n    email: result.email,\n    id: result._id,\n    token: result.accessToken\n    };\n    setUserData(userData);\n    return userData;\n  }\n  \nconst register = async(email, password) => {\n    const result = await request.post('/users/register', {email, password});\n    const userData = {\n    email: result.email, \n    id: result._id, \n    token: result.accessToken,\n    };\n    setUserData(userData);\n    return userData;\n  }\n  \n  const logout = async() => {\n    await request.get('/users/logout'); \n    clearUserData();\n  }\n  return {\n        getAll,\n        getById,\n        getlastRecipes,\n        postCreate,\n        editItem,\n        deleteItem,\n        login,\n        register,\n        logout,\n    };\n}\n\n\n\n\n\n\n\n// export async function getAll() {\n//     return api.get(endpoints.all);\n// }\n\n// export async function getById(id) {\n//     return api.get(endpoints.byId + id);\n// }\n// export async function getLastGames() {\n//     return api.get(endpoints.lastGames);\n// }\n\n// export async function postCreate(data) {\n//     return api.post(endpoints.create, data)\n// }\n\n// export async function editItem(id, data) {\n//     return api.put(endpoints.edit + id, data)\n// } \n\n// export async function deleteItem(id) {\n//     return api.del(endpoints.delete + id)\n// }\n\n// export async function login(email, password) {\n//     const result = await api.post('/users/login', { email, password });\n//     const userData = {\n//     email: result.email,\n//     id: result._id,\n//     token: result.accessToken\n//     };\n//     setUserData(userData);\n//     return userData;\n//   }\n  \n//   export async function register(email, password) {\n//     const result = await api.post('/users/register', {email, password});\n//     const userData = {\n//     email: result.email, \n//     id: result._id, \n//     token: result.accessToken,\n//     };\n//     setUserData(userData);\n//     return userData;\n//   }\n  \n//   export async function logout() {\n//     await api.get('/users/logout'); \n//     clearUserData();\n//   }\n\n\n// import {\n//     get,\n//     post,\n//     put,\n//     del,\n//     login,\n//     register,\n//     logout,\n// } from \"./api\";\n\n// const baseUrl = 'http://localhost:3030/data/games';\n\n// const getAll = async () => {\n//     const result = await get(baseUrl);\n//     const games = Object.values(result);\n\n//     return games;\n// }\n\n// const postCreate = async (gameData) => {\n//     const result = await post(baseUrl, gameData);\n\n//     // console.log(result);\n//     return result;\n// }\n\n// const getById = async (detailsId) => {\n//     const result = await get(`${baseUrl}/${detailsId}`);\n//     // console.log(result);\n//     return result;\n// }\n\n\n// export {\n//     getAll,\n//     postCreate,\n//     getById,\n// }"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}