{"ast":null,"code":"import * as api from './api.js';\nimport { clearUserData, setUserData } from './util.js';\n\n// export const login = api.login;\n// export const register = api.register;\n// export const logout = api.logout;\n\nconst endpoints = {\n  all: '/data/recipes?sortBy=_createdOn%20desc',\n  byId: '/data/recipes/',\n  lastGames: '/data/recipes?sortBy=_createdOn%20desc&distinct=category',\n  create: '/data/recipes',\n  edit: '/data/recipes/',\n  delete: '/data/recipes/'\n};\nexport async function getAll() {\n  return api.get(endpoints.all);\n}\nexport async function getById(id) {\n  return api.get(endpoints.byId + id);\n}\nexport async function getLastGames() {\n  return api.get(endpoints.lastGames);\n}\nexport async function postCreate(data) {\n  return api.post(endpoints.create, data);\n}\nexport async function editItem(id, data) {\n  return api.put(endpoints.edit + id, data);\n}\nexport async function deleteItem(id) {\n  return api.del(endpoints.delete + id);\n}\nexport async function login(email, password) {\n  const result = await api.post('/users/login', {\n    email,\n    password\n  });\n  const userData = {\n    email: result.email,\n    id: result._id,\n    token: result.accessToken\n  };\n  setUserData(userData);\n  return userData;\n}\nexport async function register(email, password) {\n  const result = await api.post('/users/register', {\n    email,\n    password\n  });\n  const userData = {\n    email: result.email,\n    id: result._id,\n    token: result.accessToken\n  };\n  setUserData(userData);\n  return userData;\n}\nexport async function logout() {\n  await api.get('/users/logout');\n  clearUserData();\n}\n\n// import {\n//     get,\n//     post,\n//     put,\n//     del,\n//     login,\n//     register,\n//     logout,\n// } from \"./api\";\n\n// const baseUrl = 'http://localhost:3030/data/games';\n\n// const getAll = async () => {\n//     const result = await get(baseUrl);\n//     const games = Object.values(result);\n\n//     return games;\n// }\n\n// const postCreate = async (gameData) => {\n//     const result = await post(baseUrl, gameData);\n\n//     // console.log(result);\n//     return result;\n// }\n\n// const getById = async (detailsId) => {\n//     const result = await get(`${baseUrl}/${detailsId}`);\n//     // console.log(result);\n//     return result;\n// }\n\n// export {\n//     getAll,\n//     postCreate,\n//     getById,\n// }","map":{"version":3,"names":["api","clearUserData","setUserData","endpoints","all","byId","lastGames","create","edit","delete","getAll","get","getById","id","getLastGames","postCreate","data","post","editItem","put","deleteItem","del","login","email","password","result","userData","_id","token","accessToken","register","logout"],"sources":["/Users/alexpetrov/JavaScript/ReactApps/projectChefSteps copy/client/src/services/recipesService.js"],"sourcesContent":["import * as api from './api.js';\nimport { clearUserData, setUserData } from './util.js';\n\n// export const login = api.login;\n// export const register = api.register;\n// export const logout = api.logout;\n\nconst endpoints = {\n    all: '/data/recipes?sortBy=_createdOn%20desc',\n    byId: '/data/recipes/',\n    lastGames: '/data/recipes?sortBy=_createdOn%20desc&distinct=category',\n    create: '/data/recipes',\n    edit: '/data/recipes/',\n    delete: '/data/recipes/',\n\n}\n\n\n\nexport async function getAll() {\n    return api.get(endpoints.all);\n}\n\nexport async function getById(id) {\n    return api.get(endpoints.byId + id);\n}\nexport async function getLastGames() {\n    return api.get(endpoints.lastGames);\n}\n\nexport async function postCreate(data) {\n    return api.post(endpoints.create, data)\n}\n\nexport async function editItem(id, data) {\n    return api.put(endpoints.edit + id, data)\n} \n\nexport async function deleteItem(id) {\n    return api.del(endpoints.delete + id)\n}\n\nexport async function login(email, password) {\n    const result = await api.post('/users/login', { email, password });\n    const userData = {\n    email: result.email,\n    id: result._id,\n    token: result.accessToken\n    };\n    setUserData(userData);\n    return userData;\n  }\n  \n  export async function register(email, password) {\n    const result = await api.post('/users/register', {email, password});\n    const userData = {\n    email: result.email, \n    id: result._id, \n    token: result.accessToken,\n    };\n    setUserData(userData);\n    return userData;\n  }\n  \n  export async function logout() {\n    await api.get('/users/logout'); \n    clearUserData();\n  }\n\n\n// import {\n//     get,\n//     post,\n//     put,\n//     del,\n//     login,\n//     register,\n//     logout,\n// } from \"./api\";\n\n// const baseUrl = 'http://localhost:3030/data/games';\n\n// const getAll = async () => {\n//     const result = await get(baseUrl);\n//     const games = Object.values(result);\n\n//     return games;\n// }\n\n// const postCreate = async (gameData) => {\n//     const result = await post(baseUrl, gameData);\n\n//     // console.log(result);\n//     return result;\n// }\n\n// const getById = async (detailsId) => {\n//     const result = await get(`${baseUrl}/${detailsId}`);\n//     // console.log(result);\n//     return result;\n// }\n\n\n// export {\n//     getAll,\n//     postCreate,\n//     getById,\n// }"],"mappings":"AAAA,OAAO,KAAKA,GAAG,MAAM,UAAU;AAC/B,SAASC,aAAa,EAAEC,WAAW,QAAQ,WAAW;;AAEtD;AACA;AACA;;AAEA,MAAMC,SAAS,GAAG;EACdC,GAAG,EAAE,wCAAwC;EAC7CC,IAAI,EAAE,gBAAgB;EACtBC,SAAS,EAAE,0DAA0D;EACrEC,MAAM,EAAE,eAAe;EACvBC,IAAI,EAAE,gBAAgB;EACtBC,MAAM,EAAE;AAEZ,CAAC;AAID,OAAO,eAAeC,MAAMA,CAAA,EAAG;EAC3B,OAAOV,GAAG,CAACW,GAAG,CAACR,SAAS,CAACC,GAAG,CAAC;AACjC;AAEA,OAAO,eAAeQ,OAAOA,CAACC,EAAE,EAAE;EAC9B,OAAOb,GAAG,CAACW,GAAG,CAACR,SAAS,CAACE,IAAI,GAAGQ,EAAE,CAAC;AACvC;AACA,OAAO,eAAeC,YAAYA,CAAA,EAAG;EACjC,OAAOd,GAAG,CAACW,GAAG,CAACR,SAAS,CAACG,SAAS,CAAC;AACvC;AAEA,OAAO,eAAeS,UAAUA,CAACC,IAAI,EAAE;EACnC,OAAOhB,GAAG,CAACiB,IAAI,CAACd,SAAS,CAACI,MAAM,EAAES,IAAI,CAAC;AAC3C;AAEA,OAAO,eAAeE,QAAQA,CAACL,EAAE,EAAEG,IAAI,EAAE;EACrC,OAAOhB,GAAG,CAACmB,GAAG,CAAChB,SAAS,CAACK,IAAI,GAAGK,EAAE,EAAEG,IAAI,CAAC;AAC7C;AAEA,OAAO,eAAeI,UAAUA,CAACP,EAAE,EAAE;EACjC,OAAOb,GAAG,CAACqB,GAAG,CAAClB,SAAS,CAACM,MAAM,GAAGI,EAAE,CAAC;AACzC;AAEA,OAAO,eAAeS,KAAKA,CAACC,KAAK,EAAEC,QAAQ,EAAE;EACzC,MAAMC,MAAM,GAAG,MAAMzB,GAAG,CAACiB,IAAI,CAAC,cAAc,EAAE;IAAEM,KAAK;IAAEC;EAAS,CAAC,CAAC;EAClE,MAAME,QAAQ,GAAG;IACjBH,KAAK,EAAEE,MAAM,CAACF,KAAK;IACnBV,EAAE,EAAEY,MAAM,CAACE,GAAG;IACdC,KAAK,EAAEH,MAAM,CAACI;EACd,CAAC;EACD3B,WAAW,CAACwB,QAAQ,CAAC;EACrB,OAAOA,QAAQ;AACjB;AAEA,OAAO,eAAeI,QAAQA,CAACP,KAAK,EAAEC,QAAQ,EAAE;EAC9C,MAAMC,MAAM,GAAG,MAAMzB,GAAG,CAACiB,IAAI,CAAC,iBAAiB,EAAE;IAACM,KAAK;IAAEC;EAAQ,CAAC,CAAC;EACnE,MAAME,QAAQ,GAAG;IACjBH,KAAK,EAAEE,MAAM,CAACF,KAAK;IACnBV,EAAE,EAAEY,MAAM,CAACE,GAAG;IACdC,KAAK,EAAEH,MAAM,CAACI;EACd,CAAC;EACD3B,WAAW,CAACwB,QAAQ,CAAC;EACrB,OAAOA,QAAQ;AACjB;AAEA,OAAO,eAAeK,MAAMA,CAAA,EAAG;EAC7B,MAAM/B,GAAG,CAACW,GAAG,CAAC,eAAe,CAAC;EAC9BV,aAAa,EAAE;AACjB;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}