{"ast":null,"code":"var _jsxFileName = \"/Users/alexpetrov/Documents/GitTesting/ChefPinko copy copy/app/src/contexts/ClassContext.js\",\n  _s = $RefreshSig$();\nimport { createContext, useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\n// import { useStorage } from '../hooks/useStorage';\n\nimport * as appService from '../services/appService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ClassContext = /*#__PURE__*/createContext();\nexport const ClassProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [classes, setClasses] = useState([]);\n  //   const [ editData, setEditDate ] = useState({});\n  //   const [ userState, setUserState ] = useState({});\n  const navigate = useNavigate();\n  useEffect(() => {\n    appService.getAllClasses().then(result => {\n      setClasses(result);\n    });\n  }, []);\n  const onCreateClass = async data => {\n    // create newGame on server\n    const newClass = await appService.postCreateClass(data);\n\n    // update App state\n    setClasses(state => [...state, newClass]);\n\n    // redirect to catalog\n    navigate('/classes');\n  };\n  const onEditClass = async (id, data) => {\n    // edit data on server\n    const editClass = await appService.editRecipe(id, data);\n\n    // upDate state\n    setClasses(state => state.map(c => c._id === id ? editClass : c));\n    navigate(`/classes/${id}`);\n  };\n  const onDeleteClass = async detailsId => {\n    const choice = window.confirm('Are you sure you want to delete this!');\n    if (choice) {\n      // Delet from server\n      await appService.deleteClass(detailsId);\n\n      // Delete from State\n      setClasses(state => state.filter(c => c._id !== detailsId));\n      navigate('/classes');\n    }\n  };\n  const getClass = classId => {\n    return classes.find(c => c._id === classId);\n  };\n  const contextValues = {\n    classes,\n    onCreateClass,\n    onEditClass,\n    onDeleteClass,\n    getClass\n  };\n  return /*#__PURE__*/_jsxDEV(ClassContext.Provider, {\n    value: contextValues,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 9\n  }, this);\n};\n_s(ClassProvider, \"gsbkKC3w7UUsAeG9hI+rYT7w3/k=\", false, function () {\n  return [useNavigate];\n});\n_c = ClassProvider;\nvar _c;\n$RefreshReg$(_c, \"ClassProvider\");","map":{"version":3,"names":["createContext","useState","useEffect","useNavigate","appService","jsxDEV","_jsxDEV","ClassContext","ClassProvider","_ref","_s","children","classes","setClasses","navigate","getAllClasses","then","result","onCreateClass","data","newClass","postCreateClass","state","onEditClass","id","editClass","editRecipe","map","c","_id","onDeleteClass","detailsId","choice","window","confirm","deleteClass","filter","getClass","classId","find","contextValues","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/alexpetrov/Documents/GitTesting/ChefPinko copy copy/app/src/contexts/ClassContext.js"],"sourcesContent":["import { createContext, useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\n// import { useStorage } from '../hooks/useStorage';\n\nimport * as appService  from '../services/appService'; \n\nexport const ClassContext = createContext();\n\nexport const ClassProvider = ({\n    children,\n}) => {\n    const [ classes, setClasses ] = useState([]);\n    //   const [ editData, setEditDate ] = useState({});\n    //   const [ userState, setUserState ] = useState({});\n      const navigate = useNavigate();\n\n      useEffect(() => {\n        appService.getAllClasses()\n        .then(result => {\n            setClasses(result)\n        })\n      }, []);\n      \n    const onCreateClass = async (data) => {\n            // create newGame on server\n            const newClass = await appService.postCreateClass(data);\n\n            // update App state\n            setClasses(state => [...state, newClass])\n\n            // redirect to catalog\n            navigate('/classes');\n        }\n\n    const onEditClass = async (id, data) => {\n        // edit data on server\n        const editClass = await appService.editRecipe(id, data); \n\n        // upDate state\n        setClasses(state => state.map(c => c._id === id ? editClass : c));\n\n        navigate(`/classes/${id}`);\n        }\n\n\n    const onDeleteClass = async (detailsId) => {\n        const choice = window.confirm('Are you sure you want to delete this!');\n\n        if (choice) {\n            // Delet from server\n            await appService.deleteClass(detailsId);\n\n            // Delete from State\n            setClasses(state => state.filter(c => c._id !== detailsId));\n            navigate('/classes')\n            }\n        }\n\n    const getClass = (classId) => {\n            return classes.find(c => c._id === classId);\n        };\n\n    const contextValues = {\n        classes,\n        onCreateClass,\n        onEditClass,\n        onDeleteClass,\n        getClass,\n    };\n\n    return (\n        <ClassContext.Provider value={contextValues}>\n            {children}\n        </ClassContext.Provider>\n    );\n};"],"mappings":";;AAAA,SAASA,aAAa,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC1D,SAASC,WAAW,QAAQ,kBAAkB;AAC9C;;AAEA,OAAO,KAAKC,UAAU,MAAO,wBAAwB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEtD,OAAO,MAAMC,YAAY,gBAAGP,aAAa,EAAE;AAE3C,OAAO,MAAMQ,aAAa,GAAGC,IAAA,IAEvB;EAAAC,EAAA;EAAA,IAFwB;IAC1BC;EACJ,CAAC,GAAAF,IAAA;EACG,MAAM,CAAEG,OAAO,EAAEC,UAAU,CAAE,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAC5C;EACA;EACE,MAAMa,QAAQ,GAAGX,WAAW,EAAE;EAE9BD,SAAS,CAAC,MAAM;IACdE,UAAU,CAACW,aAAa,EAAE,CACzBC,IAAI,CAACC,MAAM,IAAI;MACZJ,UAAU,CAACI,MAAM,CAAC;IACtB,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EAER,MAAMC,aAAa,GAAG,MAAOC,IAAI,IAAK;IAC9B;IACA,MAAMC,QAAQ,GAAG,MAAMhB,UAAU,CAACiB,eAAe,CAACF,IAAI,CAAC;;IAEvD;IACAN,UAAU,CAACS,KAAK,IAAI,CAAC,GAAGA,KAAK,EAAEF,QAAQ,CAAC,CAAC;;IAEzC;IACAN,QAAQ,CAAC,UAAU,CAAC;EACxB,CAAC;EAEL,MAAMS,WAAW,GAAG,MAAAA,CAAOC,EAAE,EAAEL,IAAI,KAAK;IACpC;IACA,MAAMM,SAAS,GAAG,MAAMrB,UAAU,CAACsB,UAAU,CAACF,EAAE,EAAEL,IAAI,CAAC;;IAEvD;IACAN,UAAU,CAACS,KAAK,IAAIA,KAAK,CAACK,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACC,GAAG,KAAKL,EAAE,GAAGC,SAAS,GAAGG,CAAC,CAAC,CAAC;IAEjEd,QAAQ,CAAE,YAAWU,EAAG,EAAC,CAAC;EAC1B,CAAC;EAGL,MAAMM,aAAa,GAAG,MAAOC,SAAS,IAAK;IACvC,MAAMC,MAAM,GAAGC,MAAM,CAACC,OAAO,CAAC,uCAAuC,CAAC;IAEtE,IAAIF,MAAM,EAAE;MACR;MACA,MAAM5B,UAAU,CAAC+B,WAAW,CAACJ,SAAS,CAAC;;MAEvC;MACAlB,UAAU,CAACS,KAAK,IAAIA,KAAK,CAACc,MAAM,CAACR,CAAC,IAAIA,CAAC,CAACC,GAAG,KAAKE,SAAS,CAAC,CAAC;MAC3DjB,QAAQ,CAAC,UAAU,CAAC;IACpB;EACJ,CAAC;EAEL,MAAMuB,QAAQ,GAAIC,OAAO,IAAK;IACtB,OAAO1B,OAAO,CAAC2B,IAAI,CAACX,CAAC,IAAIA,CAAC,CAACC,GAAG,KAAKS,OAAO,CAAC;EAC/C,CAAC;EAEL,MAAME,aAAa,GAAG;IAClB5B,OAAO;IACPM,aAAa;IACbK,WAAW;IACXO,aAAa;IACbO;EACJ,CAAC;EAED,oBACI/B,OAAA,CAACC,YAAY,CAACkC,QAAQ;IAACC,KAAK,EAAEF,aAAc;IAAA7B,QAAA,EACvCA;EAAQ;IAAAgC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACW;AAEhC,CAAC;AAACpC,EAAA,CAnEWF,aAAa;EAAA,QAMHL,WAAW;AAAA;AAAA4C,EAAA,GANrBvC,aAAa;AAAA,IAAAuC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}