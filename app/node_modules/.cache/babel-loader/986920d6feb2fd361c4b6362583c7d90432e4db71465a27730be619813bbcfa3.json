{"ast":null,"code":"var _jsxFileName = \"/Users/alexpetrov/JavaScript/ReactApps/workshopRouter/client/src/components/Details/Details.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { getById } from \"../../services/gameService\";\nimport { postCreate, getCommentsById } from '../../services/commentService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Details = () => {\n  _s();\n  const [username, setUsername] = useState('');\n  const [comment, setComment] = useState('');\n  const [comments, setComments] = useState([]);\n  const {\n    detailsId\n  } = useParams();\n  const [game, setGame] = useState({});\n  useEffect(() => {\n    getById(detailsId).then(res => {\n      setGame(res);\n      return getCommentsById(detailsId);\n    }).then(result => {\n      setComments(result);\n    });\n  }, [detailsId]);\n  const onCommentSubmit = async e => {\n    e.preventDefault();\n    await postCreate({\n      detailsId,\n      username,\n      comment\n    });\n    setUsername('');\n    setComment('');\n  };\n  const onUsernameChange = e => {\n    setUsername(e.target.value);\n  };\n  const onCommentChange = e => {\n    setComment(e.target.value);\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    id: \"game-details\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Game Details\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"info-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"game-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"game-img\",\n          src: game.imageUrl\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: game.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"levels\",\n          children: [\"MaxLevel: \", game.maxLevel]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"type\",\n          children: game.category\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text\",\n        children: game.summary\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"details-comments\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Comments:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: comments.map(x => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"comment\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [x.username, \": \", x.comment]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), comments.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"no-comment\",\n          children: \"No comments.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 26\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"#\",\n          className: \"button\",\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"#\",\n          className: \"button\",\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"article\", {\n      className: \"create-comment\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Add new comment:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"form\",\n        onSubmit: onCommentSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"username\",\n          placeholder: \"Pesho\",\n          value: username,\n          onChange: onUsernameChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"comment\",\n          placeholder: \"Comment......\",\n          value: comment,\n          onChange: onCommentChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"btn submit\",\n          type: \"submit\",\n          value: \"Add Comment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n};\n_s(Details, \"GMfeSRom9yhi2goJvKhybtzrXfs=\", false, function () {\n  return [useParams];\n});\n_c = Details;\nvar _c;\n$RefreshReg$(_c, \"Details\");","map":{"version":3,"names":["useState","useEffect","useParams","getById","postCreate","getCommentsById","jsxDEV","_jsxDEV","Details","_s","username","setUsername","comment","setComment","comments","setComments","detailsId","game","setGame","then","res","result","onCommentSubmit","e","preventDefault","onUsernameChange","target","value","onCommentChange","id","children","fileName","_jsxFileName","lineNumber","columnNumber","className","src","imageUrl","title","maxLevel","category","summary","map","x","length","href","onSubmit","type","name","placeholder","onChange","_c","$RefreshReg$"],"sources":["/Users/alexpetrov/JavaScript/ReactApps/workshopRouter/client/src/components/Details/Details.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nimport { getById } from \"../../services/gameService\";\nimport { postCreate, getCommentsById } from '../../services/commentService'\n\n\nexport const Details = () => {\n    const [username, setUsername] =useState('');\n    const [comment, setComment] = useState('');\n    const [comments, setComments] = useState([]);\n    const {detailsId} = useParams();\n    const [game, setGame] = useState({});\n\n    useEffect(() => {\n        getById(detailsId)\n        .then(res => {\n            setGame(res);\n            return getCommentsById(detailsId)\n        })\n        .then(result => {\n            setComments(result)\n        })\n    }, [detailsId]);\n\n  const onCommentSubmit =async (e) => {\n        e.preventDefault();\n\n      await postCreate({\n            detailsId,\n            username,\n            comment,\n        })\n        setUsername('');\n        setComment('');\n    }\n\n  const onUsernameChange = (e) => {\n      setUsername(e.target.value);\n  }\n\n  const onCommentChange = (e) => {\n      setComment(e.target.value)\n  }\n\n    return(\n        <section id=\"game-details\">\n            <h1>Game Details</h1>\n            <div className=\"info-section\">\n\n                <div className=\"game-header\">\n                    <img className=\"game-img\" src={game.imageUrl} />\n                    <h1>{game.title}</h1>\n                    <span className=\"levels\">MaxLevel: {game.maxLevel}</span>\n                    <p className=\"type\">{game.category}</p>\n                </div>\n\n                <p className=\"text\">\n                    {game.summary}\n                </p>\n\n\n\n\n                {/* <!-- Bonus ( for Guests and Users ) --> */}\n                <div className=\"details-comments\">\n                    <h2>Comments:</h2>\n                    <ul>\n                        {/* <!-- list all comments for current game (If any) --> */}\n                        {comments.map(x => (\n                            <li className=\"comment\">\n                            <p>{x.username}: {x.comment}</p>\n                        </li>\n                        ))}\n                    </ul>\n                    \n                    {/* <!-- Display paragraph: If there are no games in the database --> */}\n                    {comments.length === 0 && (\n                         <p className=\"no-comment\">No comments.</p>\n                    )}\n                </div>\n\n\n\n\n                {/* <!-- Edit/Delete buttons ( Only for creator of this game )  --> */}\n                <div className=\"buttons\">\n                    <a href=\"#\" className=\"button\">Edit</a>\n                    <a href=\"#\" className=\"button\">Delete</a>\n                </div>\n            </div>\n\n            {/* <!-- Bonus --> */}\n            {/* <!-- Add Comment ( Only for logged-in users, which is not creators of the current game ) --> */}\n            <article className=\"create-comment\">\n                <label>Add new comment:</label>\n                <form className=\"form\" onSubmit={onCommentSubmit}>\n                    <input type=\"text\" name=\"username\" placeholder=\"Pesho\" value={username} onChange={onUsernameChange}/>\n                    <textarea name=\"comment\" placeholder=\"Comment......\" value={comment} onChange={onCommentChange}></textarea>\n                    <input className=\"btn submit\" type=\"submit\" value=\"Add Comment\" />\n                </form>\n            </article>\n\n        </section>\n    );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}