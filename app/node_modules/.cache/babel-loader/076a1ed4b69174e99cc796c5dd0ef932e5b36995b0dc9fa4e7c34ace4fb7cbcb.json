{"ast":null,"code":"var _jsxFileName = \"/Users/alexpetrov/Documents/GitHub/ChefPinko/app/src/contexts/RecipeContext.js\",\n  _s = $RefreshSig$();\nimport { createContext, useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\n// import { useStorage } from '../hooks/useStorage';\n\nimport * as appService from '../services/appService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const RecipeContext = /*#__PURE__*/createContext();\nexport const RecipeProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [recipes, setRecipes] = useState([]);\n  //   const [ editData, setEditDate ] = useState({});\n  //   const [ userState, setUserState ] = useState({});\n  const navigate = useNavigate();\n  useEffect(() => {\n    appService.getAllRecipes().then(result => {\n      setRecipes(result);\n    });\n  }, []);\n  const onCreateRecipe = async data => {\n    // create newGame on server\n    const newRecipe = await appService.postCreateRecipe(data);\n\n    // update App state\n    setRecipes(state => [...state, newRecipe]);\n\n    // redirect to catalog\n    navigate('/catalog');\n  };\n  const onEditRecipe = async (id, data) => {\n    // edit data on server\n    const editRecipe = await appService.editRecipe(id, data);\n\n    // upDate state\n    setRecipes(state => state.map(r => r._id === id ? editRecipe : r));\n    navigate(`/catalog/${id}`);\n  };\n  const onDeleteRecipe = async detailsId => {\n    const choice = window.confirm('Are you sure you want to delete this!');\n    if (choice) {\n      // Delet from server\n      await appService.deleteRecipe(detailsId);\n\n      // Delete from State\n      setRecipes(state => state.filter(r => r._id !== detailsId));\n      navigate('/catalog');\n    }\n  };\n  const getRecipe = recipeId => {\n    return recipes.find(recipe => recipe._id === recipeId);\n  };\n  const contextValues = {\n    recipes,\n    onCreateRecipe,\n    onEditRecipe,\n    onDeleteRecipe,\n    getRecipe\n  };\n  return /*#__PURE__*/_jsxDEV(RecipeContext.Provider, {\n    value: contextValues,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 9\n  }, this);\n};\n_s(RecipeProvider, \"LDQuG0DUhZjNk4uUiP1/YIQCeeI=\", false, function () {\n  return [useNavigate];\n});\n_c = RecipeProvider;\nvar _c;\n$RefreshReg$(_c, \"RecipeProvider\");","map":{"version":3,"names":["createContext","useState","useEffect","useNavigate","appService","jsxDEV","_jsxDEV","RecipeContext","RecipeProvider","_ref","_s","children","recipes","setRecipes","navigate","getAllRecipes","then","result","onCreateRecipe","data","newRecipe","postCreateRecipe","state","onEditRecipe","id","editRecipe","map","r","_id","onDeleteRecipe","detailsId","choice","window","confirm","deleteRecipe","filter","getRecipe","recipeId","find","recipe","contextValues","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/alexpetrov/Documents/GitHub/ChefPinko/app/src/contexts/RecipeContext.js"],"sourcesContent":["import { createContext, useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\n// import { useStorage } from '../hooks/useStorage';\n\nimport * as appService  from '../services/appService'; \n\nexport const RecipeContext = createContext();\n\nexport const RecipeProvider = ({\n    children,\n}) => {\n    const [ recipes, setRecipes ] = useState([]);\n    //   const [ editData, setEditDate ] = useState({});\n    //   const [ userState, setUserState ] = useState({});\n      const navigate = useNavigate();\n\n      useEffect(() => {\n        appService.getAllRecipes()\n        .then(result => {\n          setRecipes(result)\n        })\n      }, []);\n      \n    const onCreateRecipe = async (data) => {\n            // create newGame on server\n            const newRecipe = await appService.postCreateRecipe(data);\n\n            // update App state\n            setRecipes(state => [...state, newRecipe])\n\n            // redirect to catalog\n            navigate('/catalog');\n        }\n\n    const onEditRecipe = async (id, data) => {\n        // edit data on server\n        const editRecipe = await appService.editRecipe(id, data); \n\n        // upDate state\n        setRecipes(state => state.map(r => r._id === id ? editRecipe : r));\n\n        navigate(`/catalog/${id}`);\n        }\n\n\n    const onDeleteRecipe = async (detailsId) => {\n        const choice = window.confirm('Are you sure you want to delete this!');\n\n        if (choice) {\n            // Delet from server\n            await appService.deleteRecipe(detailsId);\n\n            // Delete from State\n            setRecipes(state => state.filter(r => r._id !== detailsId));\n            navigate('/catalog')\n            }\n        }\n\n    const getRecipe = (recipeId) => {\n            return recipes.find(recipe => recipe._id === recipeId);\n        };\n\n    const contextValues = {\n        recipes,\n        onCreateRecipe,\n        onEditRecipe,\n        onDeleteRecipe,\n        getRecipe,\n    };\n\n    return (\n        <RecipeContext.Provider value={contextValues}>\n            {children}\n        </RecipeContext.Provider>\n    );\n};"],"mappings":";;AAAA,SAASA,aAAa,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC1D,SAASC,WAAW,QAAQ,kBAAkB;AAC9C;;AAEA,OAAO,KAAKC,UAAU,MAAO,wBAAwB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEtD,OAAO,MAAMC,aAAa,gBAAGP,aAAa,EAAE;AAE5C,OAAO,MAAMQ,cAAc,GAAGC,IAAA,IAExB;EAAAC,EAAA;EAAA,IAFyB;IAC3BC;EACJ,CAAC,GAAAF,IAAA;EACG,MAAM,CAAEG,OAAO,EAAEC,UAAU,CAAE,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAC5C;EACA;EACE,MAAMa,QAAQ,GAAGX,WAAW,EAAE;EAE9BD,SAAS,CAAC,MAAM;IACdE,UAAU,CAACW,aAAa,EAAE,CACzBC,IAAI,CAACC,MAAM,IAAI;MACdJ,UAAU,CAACI,MAAM,CAAC;IACpB,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EAER,MAAMC,cAAc,GAAG,MAAOC,IAAI,IAAK;IAC/B;IACA,MAAMC,SAAS,GAAG,MAAMhB,UAAU,CAACiB,gBAAgB,CAACF,IAAI,CAAC;;IAEzD;IACAN,UAAU,CAACS,KAAK,IAAI,CAAC,GAAGA,KAAK,EAAEF,SAAS,CAAC,CAAC;;IAE1C;IACAN,QAAQ,CAAC,UAAU,CAAC;EACxB,CAAC;EAEL,MAAMS,YAAY,GAAG,MAAAA,CAAOC,EAAE,EAAEL,IAAI,KAAK;IACrC;IACA,MAAMM,UAAU,GAAG,MAAMrB,UAAU,CAACqB,UAAU,CAACD,EAAE,EAAEL,IAAI,CAAC;;IAExD;IACAN,UAAU,CAACS,KAAK,IAAIA,KAAK,CAACI,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACC,GAAG,KAAKJ,EAAE,GAAGC,UAAU,GAAGE,CAAC,CAAC,CAAC;IAElEb,QAAQ,CAAE,YAAWU,EAAG,EAAC,CAAC;EAC1B,CAAC;EAGL,MAAMK,cAAc,GAAG,MAAOC,SAAS,IAAK;IACxC,MAAMC,MAAM,GAAGC,MAAM,CAACC,OAAO,CAAC,uCAAuC,CAAC;IAEtE,IAAIF,MAAM,EAAE;MACR;MACA,MAAM3B,UAAU,CAAC8B,YAAY,CAACJ,SAAS,CAAC;;MAExC;MACAjB,UAAU,CAACS,KAAK,IAAIA,KAAK,CAACa,MAAM,CAACR,CAAC,IAAIA,CAAC,CAACC,GAAG,KAAKE,SAAS,CAAC,CAAC;MAC3DhB,QAAQ,CAAC,UAAU,CAAC;IACpB;EACJ,CAAC;EAEL,MAAMsB,SAAS,GAAIC,QAAQ,IAAK;IACxB,OAAOzB,OAAO,CAAC0B,IAAI,CAACC,MAAM,IAAIA,MAAM,CAACX,GAAG,KAAKS,QAAQ,CAAC;EAC1D,CAAC;EAEL,MAAMG,aAAa,GAAG;IAClB5B,OAAO;IACPM,cAAc;IACdK,YAAY;IACZM,cAAc;IACdO;EACJ,CAAC;EAED,oBACI9B,OAAA,CAACC,aAAa,CAACkC,QAAQ;IAACC,KAAK,EAAEF,aAAc;IAAA7B,QAAA,EACxCA;EAAQ;IAAAgC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACY;AAEjC,CAAC;AAACpC,EAAA,CAnEWF,cAAc;EAAA,QAMJL,WAAW;AAAA;AAAA4C,EAAA,GANrBvC,cAAc;AAAA,IAAAuC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}