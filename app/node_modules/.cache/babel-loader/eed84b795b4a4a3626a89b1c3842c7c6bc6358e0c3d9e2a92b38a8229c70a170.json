{"ast":null,"code":"var _jsxFileName = \"/Users/alexpetrov/Documents/GitHub/ChefPinko/app/src/contexts/BasketContext.js\",\n  _s = $RefreshSig$();\nimport { createContext, useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n// import { useStorage } from '../hooks/useStorage';\n\nimport * as appService from '../services/appService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const BasketContext = /*#__PURE__*/createContext();\nexport const BasketProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [numberОfPurchases, setNumberОfPurchases] = useState(0);\n  const [basketItems, setBasketItems] = useState([]);\n  const [items, setItems] = useState([]);\n  const navigate = useNavigate();\n  useEffect(() => {\n    appService.getAllGadjets().then(result => {\n      setItems(result);\n    });\n  }, []);\n  const onCreateGadjet = async data => {\n    // create newGame on server\n    const newClass = await appService.postCreateGadjet(data);\n\n    // update App state\n    setItems(state => [...state, newClass]);\n\n    // redirect to catalog\n    navigate('/tools');\n  };\n  const contextValues = {\n    items,\n    setItems,\n    basketItems,\n    setBasketItems,\n    numberОfPurchases,\n    setNumberОfPurchases,\n    onCreateGadjet\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(BasketContext.Provider, {\n      value: contextValues,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n// const [userState, setUserState] = useStorage('userData', {});\n//     const navigate = useNavigate();\n//     const [showModal, setShowModal] = useState(false);\n//     const [errorText, setErrorText] = useState();\n//     // const userService = userServiceFactory(userState.accessToken)\n\n//      // LOGIN\n//      const onLoginSubmit = async (data) => {\n//         if (data.email === '' || data.password === '') {\n//             setShowModal(true);\n//             setErrorText('All fealds are required!')\n//             return;\n//         } else {\n\n//             try {\n//                 const result = await appService.login(data.email, data.password);\n\n//                 setUserState(result);\n\n//                 navigate('/catalog');\n//                 return;\n//             } catch (error) {\n//                 setShowModal(true);\n//                 setErrorText(error.message);\n//             }\n//         }\n\n//     };\n\n//     // REGISTER\n//     const onRegisterSubmit = async (data) => {\n//         if (data.email === '' || data.password === '') {\n//             setShowModal(true);\n//             setErrorText('All fealds are required!')\n//             return;\n//         } \n\n//         if (data.password !== data['confirm-password']) {\n//             setShowModal(true);\n//             setErrorText('Password don\\'t match')\n//             return;\n//         }\n\n//             try {\n//                 const result = await appService.register(data.email, data.password);\n\n//                 setUserState(result);\n\n//                 navigate('/catalog');\n//                 return;\n//             } catch (error) {\n//                 setShowModal(true);\n//                 setErrorText(error.message);\n//             }\n\n//         };  \n\n//     // LOGOUT\n\n//     const onLogoutSubmit = async () => {\n//         await appService.logout();\n//         setUserState({});\n\n//     } \n_s(BasketProvider, \"N1J+RU8qyKP7Y+HdvynviYe5Z/M=\", false, function () {\n  return [useNavigate];\n});\n_c = BasketProvider;\nvar _c;\n$RefreshReg$(_c, \"BasketProvider\");","map":{"version":3,"names":["createContext","useEffect","useState","useNavigate","appService","jsxDEV","_jsxDEV","Fragment","_Fragment","BasketContext","BasketProvider","_ref","_s","children","numberОfPurchases","setNumberОfPurchases","basketItems","setBasketItems","items","setItems","navigate","getAllGadjets","then","result","onCreateGadjet","data","newClass","postCreateGadjet","state","contextValues","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/alexpetrov/Documents/GitHub/ChefPinko/app/src/contexts/BasketContext.js"],"sourcesContent":["import { createContext, useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n// import { useStorage } from '../hooks/useStorage';\n\nimport * as appService  from '../services/appService'; \n\n\nexport const BasketContext = createContext();\n\n\nexport const BasketProvider = ({\n    children,\n}) => {\n    const [numberОfPurchases, setNumberОfPurchases] = useState(0);\n    const [basketItems, setBasketItems] = useState([]);\n    const [items, setItems] = useState([]);\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        appService.getAllGadjets()\n        .then(result => {\n            setItems(result)\n        })\n      }, []);\n\n      const onCreateGadjet = async (data) => {\n        // create newGame on server\n        const newClass = await appService.postCreateGadjet(data);\n\n        // update App state\n        setItems(state => [...state, newClass])\n\n        // redirect to catalog\n        navigate('/tools');\n    }\n    \n    const contextValues = {\n        items,\n        setItems,\n        basketItems,\n        setBasketItems,\n        numberОfPurchases,\n        setNumberОfPurchases,\n        onCreateGadjet,\n    };\n \n\n    return (\n        <>\n            <BasketContext.Provider value={contextValues}>\n                {children}\n            </BasketContext.Provider>\n        </>\n    )\n};\n\n\n\n\n\n// const [userState, setUserState] = useStorage('userData', {});\n//     const navigate = useNavigate();\n//     const [showModal, setShowModal] = useState(false);\n//     const [errorText, setErrorText] = useState();\n//     // const userService = userServiceFactory(userState.accessToken)\n\n//      // LOGIN\n//      const onLoginSubmit = async (data) => {\n//         if (data.email === '' || data.password === '') {\n//             setShowModal(true);\n//             setErrorText('All fealds are required!')\n//             return;\n//         } else {\n\n//             try {\n//                 const result = await appService.login(data.email, data.password);\n            \n//                 setUserState(result);\n            \n//                 navigate('/catalog');\n//                 return;\n//             } catch (error) {\n//                 setShowModal(true);\n//                 setErrorText(error.message);\n//             }\n//         }\n    \n//     };\n\n//     // REGISTER\n//     const onRegisterSubmit = async (data) => {\n//         if (data.email === '' || data.password === '') {\n//             setShowModal(true);\n//             setErrorText('All fealds are required!')\n//             return;\n//         } \n        \n//         if (data.password !== data['confirm-password']) {\n//             setShowModal(true);\n//             setErrorText('Password don\\'t match')\n//             return;\n//         }\n    \n//             try {\n//                 const result = await appService.register(data.email, data.password);\n\n//                 setUserState(result);\n\n//                 navigate('/catalog');\n//                 return;\n//             } catch (error) {\n//                 setShowModal(true);\n//                 setErrorText(error.message);\n//             }\n            \n//         };  \n\n//     // LOGOUT\n\n//     const onLogoutSubmit = async () => {\n//         await appService.logout();\n//         setUserState({});\n        \n//     } "],"mappings":";;AAAA,SAASA,aAAa,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC1D,SAASC,WAAW,QAAQ,kBAAkB;AAC9C;;AAEA,OAAO,KAAKC,UAAU,MAAO,wBAAwB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAGtD,OAAO,MAAMC,aAAa,gBAAGT,aAAa,EAAE;AAG5C,OAAO,MAAMU,cAAc,GAAGC,IAAA,IAExB;EAAAC,EAAA;EAAA,IAFyB;IAC3BC;EACJ,CAAC,GAAAF,IAAA;EACG,MAAM,CAACG,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGb,QAAQ,CAAC,CAAC,CAAC;EAC7D,MAAM,CAACc,WAAW,EAAEC,cAAc,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACgB,KAAK,EAAEC,QAAQ,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAMkB,QAAQ,GAAGjB,WAAW,EAAE;EAE9BF,SAAS,CAAC,MAAM;IACZG,UAAU,CAACiB,aAAa,EAAE,CACzBC,IAAI,CAACC,MAAM,IAAI;MACZJ,QAAQ,CAACI,MAAM,CAAC;IACpB,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,cAAc,GAAG,MAAOC,IAAI,IAAK;IACrC;IACA,MAAMC,QAAQ,GAAG,MAAMtB,UAAU,CAACuB,gBAAgB,CAACF,IAAI,CAAC;;IAExD;IACAN,QAAQ,CAACS,KAAK,IAAI,CAAC,GAAGA,KAAK,EAAEF,QAAQ,CAAC,CAAC;;IAEvC;IACAN,QAAQ,CAAC,QAAQ,CAAC;EACtB,CAAC;EAED,MAAMS,aAAa,GAAG;IAClBX,KAAK;IACLC,QAAQ;IACRH,WAAW;IACXC,cAAc;IACdH,iBAAiB;IACjBC,oBAAoB;IACpBS;EACJ,CAAC;EAGD,oBACIlB,OAAA,CAAAE,SAAA;IAAAK,QAAA,eACIP,OAAA,CAACG,aAAa,CAACqB,QAAQ;MAACC,KAAK,EAAEF,aAAc;MAAAhB,QAAA,EACxCA;IAAQ;MAAAmB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EACY,iBAC1B;AAEX,CAAC;;AAMD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AAAAvB,EAAA,CAjHaF,cAAc;EAAA,QAMNP,WAAW;AAAA;AAAAiC,EAAA,GANnB1B,cAAc;AAAA,IAAA0B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}